<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SA API: SA44/124 API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sh-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">SA API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SA44/124 API Reference </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md4">Examples</a></li>
<li class="level1"><a href="#autotoc_md5">Measurements</a></li>
<li class="level1"><a href="#autotoc_md6">Build/Version Notes</a><ul><li class="level2"><a href="#autotoc_md7">Builds</a></li>
<li class="level2"><a href="#autotoc_md8">Versions</a><ul><li class="level3"><a href="#autotoc_md9">Version 3.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md10">Requirements</a><ul><li class="level2"><a href="#autotoc_md11">Software Requirements</a><ul><li class="level3"><a href="#autotoc_md12">Setup and Initialization</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md13">PC Requirements</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md14">Setup and Initialization</a></li>
<li class="level1"><a href="#autotoc_md15">Error Handling</a></li>
<li class="level1"><a href="#autotoc_md16">Device Connection Errors</a></li>
<li class="level1"><a href="#rbwAndVbw">Setting RBW and VBW</a></li>
<li class="level1"><a href="#gainAndAtten">Setting Gain and Attenuation</a></li>
<li class="level1"><a href="#autotoc_md17">Code Examples</a></li>
<li class="level1"><a href="#autotoc_md18">Programming Languages Other Than C++ (and bools)</a></li>
<li class="level1"><a href="#autotoc_md19">Internal Auto-Calibration</a></li>
<li class="level1"><a href="#autotoc_md20">Thread Safety</a></li>
<li class="level1"><a href="#multipleDevicesAndProcesses">Multiple Devices and Multiple Processes</a></li>
<li class="level1"><a href="#autotoc_md21">Contact Information</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="mainpage"></a></p>
<p >This manual is a reference for the Signal Hound SA Series application programming interface (API). This API supports the SA44B, SA44, and SA124B/A Signal Hound devices. The API provides a set of C functions for making measurements with the SA series devices. The API is C ABI compatible making is possible to be interfaced from most programming languages.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Examples</h1>
<p >All code examples are located in the <em>examples/</em> folder in the SDK which can be downloaded at <a href="www.signalhound.com/software-development-kit">www.signalhound.com/software-development-kit</a>.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Measurements</h1>
<p >This section covers the main measurements available through the API.</p>
<ul>
<li><a class="el" href="modes_of_operation.html#sweepMode">Swept Spectrum Analysis</a></li>
<li><a class="el" href="modes_of_operation.html#realTimeAnalysis">Real-Time Spectrum Analysis</a></li>
<li><a class="el" href="modes_of_operation.html#IQStreaming">I/Q Streaming</a></li>
<li><a class="el" href="modes_of_operation.html#audioDemod">Audio Demodulation</a></li>
<li><a class="el" href="modes_of_operation.html#snaMode">Scalar Network Analysis</a></li>
</ul>
<p >Also see <a class="el" href="theory_of_operation.html">Theory of Operation</a> for more information.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Build/Version Notes</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Builds</h2>
<p >Windows builds are available for both x86 and x64. They are compiled with Visual Studio 2012 and any application using this library will require distributing the VS2012 redistributable libraries.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Versions</h2>
<p >Versions are of the form <em>major.minor.revision</em>.</p>
<p >A <em>major</em> change signifies a significant change in functionality relating to one or more measurements, or the addition of significant functionality. Function prototypes have likely changed.</p>
<p >A <em>minor</em> change signifies additions that may improve existing functionality or fix major bugs but make no changes that might affect existing user’s measurements. Function prototypes can change but do not change existing parameters meanings.</p>
<p >A <em>revision</em> change signifies minor changes or bug fixes. Function prototypes will not change. Users should be able to update by simply replacing the .DLL.</p>
<p >See the change log in the SDK for detailed API version history.</p>
<h3><a class="anchor" id="autotoc_md9"></a>
Version 3.0.0</h3>
<p >Initial release. Version numbering will begin at 3.0.0 to signify this is the 3rd major iteration on the SA44/SA124 programming interface. While not a direct descendant of previous versions, there is a large amount of work that is borrowed from earlier versions of the APIs that it is to be considered this to be a derivative work.</p>
<p >The programming interface has drastically changed from previous versions. It is now similar to our BB60 product programming interfaces. The interface is modeled roughly after the IviSpecAn specification.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Requirements</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
Software Requirements</h2>
<ul>
<li>Windows 7/8/10/11 (64-bit Windows 10 recommended)</li>
<li>Windows C/C++ development tools and environment.<ul>
<li>API was compiled using VS2012 and VS2019.<ul>
<li>VS2012/VS2019 C++ redistributables are required.</li>
</ul>
</li>
</ul>
</li>
<li><b><a class="el" href="sa__api_8h.html" title="API functions for the SA44/124 spectrum analyzers.">sa_api.h</a></b>: API header file.</li>
<li><b>sa_api.lib/sa_api.dll</b>: These are the main API library files.</li>
<li><b>CDM v2.12.00 WHQL Certified.exe</b>: USB driver from FTDI.</li>
<li><b>ftd2xx.dll</b>: Must be in the same directory as the sa_api.dll.</li>
</ul>
<h3><a class="anchor" id="autotoc_md12"></a>
Setup and Initialization</h3>
<p >The API requires two calibration files to exist on the host PC before the API will work correctly. To understand how this is performed, read the sections <a class="el" href="theory_of_operation.html#opening">Opening a Device</a> and <a class="el" href="theory_of_operation.html#firstTimeOpening">First Time Opening a New Device</a>.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
PC Requirements</h2>
<ul>
<li>Dual-core Intel processor.</li>
<li>USB 2.0 connectivity (2x for SA124B).</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
Setup and Initialization</h1>
<p >The API requires two calibration files to exist on the host PC before the API will work correctly. To understand how this is performed, read the sections <a class="el" href="theory_of_operation.html#opening">Opening a Device</a> and <a class="el" href="theory_of_operation.html#firstTimeOpening">First Time Opening a New Device</a>.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Error Handling</h1>
<p >All API functions return the type <a class="el" href="sa__api_8h.html#a9c1cbf155261782b245b98199e307516">saStatus</a>. <a class="el" href="sa__api_8h.html#a9c1cbf155261782b245b98199e307516">saStatus</a> is an enumerated type representing the success of a given function call.</p>
<p >There are three types of returned status codes:</p>
<ol type="1">
<li>No error: Represented with value <a class="el" href="sa__api_8h.html#a9c1cbf155261782b245b98199e307516a393ace7a15801b1377e6934d20f257d7">saNoError</a>, equal to zero.</li>
<li>Error: Interrupts function execution, represented by a negative return value.</li>
<li>Warning: Does not interrupt function execution, but may leave the system in an undesirable state. Represented as a positive value.</li>
</ol>
<p >The best way to address issues is to check the return values of the API functions. The API function <a class="el" href="sa__api_8h.html#ac19945a762dbb7abbdc767912c07b0ff">saGetErrorString</a> is provided to retrieve a string representation of any given status code for easy debugging.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Device Connection Errors</h1>
<p >The API issues errors when fatal connection issues are present during normal operation of the device. Only one major error is returned due to fatal connections issues, <a class="el" href="sa__api_8h.html#a9c1cbf155261782b245b98199e307516a1213e8d6168f258517899d1151489ee5">saUSBCommErr</a>. This error can be returned from all major get() routines. If at any time the API experiences USB communication errors the next get() routine will return this error.</p>
<p >If you receive this error, your program should call <a class="el" href="sa__api_8h.html#ad88fc31781cddf9f49c77a14b69bc63e">saCloseDevice</a> to free any remaining resources before checking the connection of your device and trying to open the device through the API again.</p>
<h1><a class="anchor" id="rbwAndVbw"></a>
Setting RBW and VBW</h1>
<p >The SA44 and SA124 models have many device restrictions which prevent the user from selecting all possible combinations of RBW and VBW for any given sweep. Many restrictions are not known until <a class="el" href="sa__api_8h.html#afd615afc09212d6a62937a9d06fac9d4">saInitiate</a> is called and all parameters of the sweep are considered. The API clamps RBW/VBW when <a class="el" href="sa__api_8h.html#afd615afc09212d6a62937a9d06fac9d4">saInitiate</a> is called if they break the restrictions which are listed below. Concern yourself with these restrictions only when it is imperative the API use exactly the RBW and VBW you requested.</p>
<p >SA44A/B, SA124A/B limitations:</p>
<ul>
<li>Available RBWs in the standard sweep mode<ul>
<li>0.1Hz to 100kHz, and 250kHz</li>
</ul>
</li>
<li>Available RBWs in real-time<ul>
<li>100Hz to 10kHz</li>
</ul>
</li>
<li>For the SA44A, RBW/VBW must be greater than or equal to 6.5kHz when<ul>
<li>Span is greater than 200kHz</li>
</ul>
</li>
<li>For the SA44B, SA124A, SA124B, RBW/VBW must be greater than or equal to 6.5kHz when<ul>
<li>Span is greater than or equal to 100MHz</li>
<li>Span is greater than 200kHz <em>and</em> start frequency &lt; 16MHz</li>
</ul>
</li>
<li>For SA124A/B 6MHz RBW available when<ul>
<li>Start frequency &gt;= 200MHz <em>and</em> span &gt;= 200MHz</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="gainAndAtten"></a>
Setting Gain and Attenuation</h1>
<p >When automatic atten or automatic gain is selected, the API uses the reference level provided to choose the best settings for gain, attenuator, and preamplifier (if applicable) settings for an input signal with amplitude equal to reference level. For almost all cases, automatic settings are best. However, if your application must override the automatic settings, set all gain control values (atten, gain, and preamp) to manual values.</p>
<p >The <b>atten</b> parameter controls the RF input attenuator, and is adjustable from 0 to 30 dB in 10 dB steps for the SA124A and SA124B, or 0 to 15 dB in 5 dB steps for the SA44 / SA44B. The RF attenuator is the first gain control device in the front end, before the preamplifier (if any).</p>
<p >The <b>preamp</b> parameter, only for the SA44B, controls whether the preamplifier is in circuit or bypassed. The preamplifier increases sensitivity, decreases local oscillator feed-through, and significantly increases the amplitude of intermodulation products. It is located immediately after the attenuator. For the SA124A/B the preamplifier is always on; use a higher attenuation setting for high amplitude signals.</p>
<p >The <b>gain</b> parameter controls analog and digital intermediate frequency (IF) gain. A setting of 1 is midrange. Setting gain to 0 adds a 16 dB attenuator to the IF input. Setting gain to 2 adds 12 dB of digital gain to the IF signal processing chain before the 24 bit ADC values are truncated to 16 bits.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Code Examples</h1>
<p >The code examples are located in the examples/ folder found in the API download.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Programming Languages Other Than C++ (and bools)</h1>
<p >Even though the API is compiled with Microsofts C++ compiler (VC++), name decoration is explicitly disabled for public functions so that a variety of programming languages and external tools can utilize this API. Programming languages such as C#, Java, and Python can call this API as well as tools such as MATLAB and LabVIEW.</p>
<p >Most function parameters are standard primitive data types, such as floating point numbers and integers. Parameters are passed either by value or as pointers. Supplying these parameters is supported by the languages and tools mentioned above.</p>
<p >One such primitive type without a directly analogous type is the bool type. VC++ defines the bool type as an 8-bit integer. Passing 0 for false and 1 for true in an 8-bit integer type will work when a bool type is needed by the API.</p>
<p >Enums are defined as 32-bit integers in VC++.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Internal Auto-Calibration</h1>
<p >Every time <a class="el" href="sa__api_8h.html#afd615afc09212d6a62937a9d06fac9d4">saInitiate</a> is called, the API reads the internal temperature of the device and generates corrections accordingly. If you open the device shortly after plugging it in,before it has had 15 minutes to reach ambient temperature, your readings may drift as it warms up. It is recommended to re-initiate your sweep every 2-3 minutes until a stable internal temperature is reached.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Thread Safety</h1>
<p >The SA API is not thread safe. A multi-threaded application is free to call the API from any number of threads if the function calls are synchronized (i.e. using a mutex). Not synchronizing your function calls will lead to undefined behavior.</p>
<h1><a class="anchor" id="multipleDevicesAndProcesses"></a>
Multiple Devices and Multiple Processes</h1>
<p >The API can manage multiple devices within one process. In each process the API manages a list of open devices to prevent a process from opening a device more than once. You may open multiple devices by specifying the serial number or allowing the API to discover them automatically.</p>
<p >If you wish to use the API in multiple processes it is the user’s responsibility to manage a list of devices to prevent the possibility of opening a device twice from two different processes. Two processes communicating to the same device will result in undefined behavior. One possible way to manage inter-process information like this is to use a named mutex on a Windows system.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Contact Information</h1>
<p >For technical support, email <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'si'+'gna'+'lh'+'oun'+'d.'+'com'; return false;">support@signalhound.com</a>.</p>
<p >For sales, email <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@si'+'gn'+'alh'+'ou'+'nd.'+'co'+'m'; return false;">sales@signalhound.com</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
