<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VSG60 API: Theory of Operation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sh-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">VSG60 API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Theory of Operation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md13">Opening a Device</a></li>
<li class="level1"><a href="#basigSigGen">Basic Signal Generation</a><ul><li class="level2"><a href="#autotoc_md14">Example</a></li>
<li class="level2"><a href="#autotoc_md15">Usage</a></li>
</ul>
</li>
<li class="level1"><a href="#complexSigGen">Complex Signal Generation (Streaming)</a><ul><li class="level2"><a href="#autotoc_md16">Example</a></li>
<li class="level2"><a href="#autotoc_md17">Usage</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md18">Closing the Device</a></li>
<li class="level1"><a href="#autotoc_md19">Recalibration</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_C__Users_Roger_Documents_Dev_Checkout_VSG60A_vsg60_docs_page_theory_of_operation"></a></p>
<p >There are two primary ways to generate waveforms with the VSG60 API:</p>
<ol type="1">
<li><b>Basic</b> Provide a complete waveform which the API will output once or repeat until stopped. This is the simplest method for generation. These methods are ideal for fixed frequency output waveforms up to many seconds in length.</li>
<li><b>Complex</b> Use the streaming functions which allow for long waveforms or complex sequences which might involve frequency hopping and level changes.</li>
</ol>
<h1><a class="anchor" id="autotoc_md13"></a>
Opening a Device</h1>
<p >Before any generation can occur, the device must be opened and initialized. Opening and initializing a device through the API is performed through the <a class="el" href="vsg__api_8h.html#a79c09f779d9844ea2dc28991e7bf9cdd">vsgOpenDevice</a> or <a class="el" href="vsg__api_8h.html#a847bfdd279f21bde259a5f9ea81d85c0">vsgOpenDeviceBySerial</a> functions. These functions will perform the full initialization of the device and if successful, will return an integer handle which can be used to reference the device for the remainder of your program. See the list of all VSG60 devices connected to the PC via the <a class="el" href="vsg__api_8h.html#a4f6f377dfad08e1e23b902ea53b9ec67">vsgGetDeviceList</a> function.</p>
<h1><a class="anchor" id="basigSigGen"></a>
Basic Signal Generation</h1>
<p >To output a static waveform, either once, or repeatedly, use basic signal generation.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Example</h2>
<p >For a list of all examples, please see the <em>examples/</em> folder in the SDK.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This example illustrates generating a pulse signal at a specific freq and level.</span></div>
<div class="line"><span class="comment"> * This example is fully standalone.</span></div>
<div class="line"><span class="comment"> */</span> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vsg__api_8h.html">vsg_api.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Cplx32f { </div>
<div class="line">    <span class="keywordtype">float</span> re, im; </div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> vsg_example_basic_generation_2()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Open device, get handle, check open result</span></div>
<div class="line">    <span class="keywordtype">int</span> handle;</div>
<div class="line">    <a class="code hl_enumeration" href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276">VsgStatus</a> status = <a class="code hl_function" href="vsg__api_8h.html#a79c09f779d9844ea2dc28991e7bf9cdd">vsgOpenDevice</a>(&amp;handle);</div>
<div class="line">    <span class="keywordflow">if</span>(status &lt; <a class="code hl_enumvalue" href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276ac3a1368c2522967c3b379f6609a8170c">vsgNoError</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error: %s\n&quot;</span>, <a class="code hl_function" href="vsg__api_8h.html#a1136a2ae452fe9a4bff95e66aa443f46">vsgGetErrorString</a>(status));</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Configure generator</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> freq = 1.0e9; <span class="comment">// Hz</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> sampleRate = 50.0e6; <span class="comment">// samples per second</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> level = -10.0; <span class="comment">// dBm</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#aefed623968894e79bea155af4a2dbfdc">vsgSetFrequency</a>(handle, freq);</div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a4f3b9a68cbfabfdd95440d39d0c2158e">vsgSetLevel</a>(handle, level);</div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a227c10c3d51527900d6d2dc1c1c6253b">vsgSetSampleRate</a>(handle, sampleRate);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create pulse with specific width and period, then continually loop the pulsed signal</span></div>
<div class="line">    <span class="keyword">const</span> Cplx32f cplxOne = {1.0, 0.0}, cplxZero = {0.0, 0.0};</div>
<div class="line">    std::vector&lt;Cplx32f&gt; iq; <span class="comment">// The I/Q waveform</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> pulseWidth = 1.0e-6; <span class="comment">// 1us</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> pulsePeriod = 10.0e-6; <span class="comment">// 10us</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> pulseOnSamples = pulseWidth * sampleRate;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> pulseOffSamples = (pulsePeriod - pulseWidth) * sampleRate;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; pulseOnSamples; i++) {</div>
<div class="line">        iq.push_back(cplxOne);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; pulseOffSamples; i++) {</div>
<div class="line">        iq.push_back(cplxZero);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#acea977411faca83a2f130ad4d37e83cd">vsgRepeatWaveform</a>(handle, (<span class="keywordtype">float</span>*)&amp;iq[0], iq.size());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Will transmit until you close the device or abort</span></div>
<div class="line">    Sleep(5000);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Stop waveform</span></div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#af17b7a9283db63e953a0cae5958b2f4b">vsgAbort</a>(handle);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Done with device</span></div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a14cc8a9ab150038b15af0c47e8f877bb">vsgCloseDevice</a>(handle);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="avsg__api_8h_html"><div class="ttname"><a href="vsg__api_8h.html">vsg_api.h</a></div><div class="ttdoc">API functions for the VSG60A vector signal generator.</div></div>
<div class="ttc" id="avsg__api_8h_html_a1136a2ae452fe9a4bff95e66aa443f46"><div class="ttname"><a href="vsg__api_8h.html#a1136a2ae452fe9a4bff95e66aa443f46">vsgGetErrorString</a></div><div class="ttdeci">VSG_API const char * vsgGetErrorString(VsgStatus status)</div></div>
<div class="ttc" id="avsg__api_8h_html_a14cc8a9ab150038b15af0c47e8f877bb"><div class="ttname"><a href="vsg__api_8h.html#a14cc8a9ab150038b15af0c47e8f877bb">vsgCloseDevice</a></div><div class="ttdeci">VSG_API VsgStatus vsgCloseDevice(int handle)</div></div>
<div class="ttc" id="avsg__api_8h_html_a227c10c3d51527900d6d2dc1c1c6253b"><div class="ttname"><a href="vsg__api_8h.html#a227c10c3d51527900d6d2dc1c1c6253b">vsgSetSampleRate</a></div><div class="ttdeci">VSG_API VsgStatus vsgSetSampleRate(int handle, double sampleRate)</div></div>
<div class="ttc" id="avsg__api_8h_html_a36ee7f829a2d1178df0d58ba9b23f276"><div class="ttname"><a href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276">VsgStatus</a></div><div class="ttdeci">VsgStatus</div><div class="ttdef"><b>Definition:</b> vsg_api.h:88</div></div>
<div class="ttc" id="avsg__api_8h_html_a36ee7f829a2d1178df0d58ba9b23f276ac3a1368c2522967c3b379f6609a8170c"><div class="ttname"><a href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276ac3a1368c2522967c3b379f6609a8170c">vsgNoError</a></div><div class="ttdeci">@ vsgNoError</div><div class="ttdef"><b>Definition:</b> vsg_api.h:112</div></div>
<div class="ttc" id="avsg__api_8h_html_a4f3b9a68cbfabfdd95440d39d0c2158e"><div class="ttname"><a href="vsg__api_8h.html#a4f3b9a68cbfabfdd95440d39d0c2158e">vsgSetLevel</a></div><div class="ttdeci">VSG_API VsgStatus vsgSetLevel(int handle, double level)</div></div>
<div class="ttc" id="avsg__api_8h_html_a79c09f779d9844ea2dc28991e7bf9cdd"><div class="ttname"><a href="vsg__api_8h.html#a79c09f779d9844ea2dc28991e7bf9cdd">vsgOpenDevice</a></div><div class="ttdeci">VSG_API VsgStatus vsgOpenDevice(int *handle)</div></div>
<div class="ttc" id="avsg__api_8h_html_acea977411faca83a2f130ad4d37e83cd"><div class="ttname"><a href="vsg__api_8h.html#acea977411faca83a2f130ad4d37e83cd">vsgRepeatWaveform</a></div><div class="ttdeci">VSG_API VsgStatus vsgRepeatWaveform(int handle, float *iq, int len)</div></div>
<div class="ttc" id="avsg__api_8h_html_aefed623968894e79bea155af4a2dbfdc"><div class="ttname"><a href="vsg__api_8h.html#aefed623968894e79bea155af4a2dbfdc">vsgSetFrequency</a></div><div class="ttdeci">VSG_API VsgStatus vsgSetFrequency(int handle, double frequency)</div></div>
<div class="ttc" id="avsg__api_8h_html_af17b7a9283db63e953a0cae5958b2f4b"><div class="ttname"><a href="vsg__api_8h.html#af17b7a9283db63e953a0cae5958b2f4b">vsgAbort</a></div><div class="ttdeci">VSG_API VsgStatus vsgAbort(int handle)</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Usage</h2>
<p >Basic signal generation involves configuring the generator and then using one of the following functions:</p>
<ul>
<li><a class="el" href="vsg__api_8h.html#af1615d4d8e93a75e4f3706558f98bb2a">vsgOutputWaveform</a></li>
<li><a class="el" href="vsg__api_8h.html#acea977411faca83a2f130ad4d37e83cd">vsgRepeatWaveform</a></li>
<li><a class="el" href="vsg__api_8h.html#a8c7bd15c480c0143998795dc080fbfee">vsgOutputCW</a> (convenience function)</li>
</ul>
<p >Waveforms are provided as interleaved I/Q complex pairs. The API can output the waveform once using the <a class="el" href="vsg__api_8h.html#af1615d4d8e93a75e4f3706558f98bb2a">vsgOutputWaveform</a> function, or continually generate the waveform using the <a class="el" href="vsg__api_8h.html#acea977411faca83a2f130ad4d37e83cd">vsgRepeatWaveform</a> function.</p>
<p >The <a class="el" href="vsg__api_8h.html#af1615d4d8e93a75e4f3706558f98bb2a">vsgOutputWaveform</a> is a blocking function which returns once fully output. When a waveform is on repeat, any changes in configuration will cause the waveform to be paused, and then restarted once reconfiguration has completed.</p>
<p >Submitting a trigger or I/Q data through the <a class="el" href="vsg__api_8h.html#ad5c2bfc92e6ee6cf906fe7afcf706647">vsgSubmitIQ</a> function will stop any waveforms on repeat.</p>
<p >Calling <a class="el" href="vsg__api_8h.html#af17b7a9283db63e953a0cae5958b2f4b">vsgAbort</a> will end any active waveforms on repeat.</p>
<h1><a class="anchor" id="complexSigGen"></a>
Complex Signal Generation (Streaming)</h1>
<p >For long waveform generation or for transmitting a complex sequence of events such as frequency hopping or triggers, a collection of functions are available in the API which allow a user to buffer a sequence of configuration and transmit events.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Example</h2>
<p >For a list of all examples, please see the <em>examples/</em> folder in the SDK.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This example illustrates how to use the streaming function of the API</span></div>
<div class="line"><span class="comment"> *  to generate a complex frqeuency hopping CW signal.</span></div>
<div class="line"><span class="comment"> * This example is fully standalone.</span></div>
<div class="line"><span class="comment"> */</span> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vsg__api_8h.html">vsg_api.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Cplx32f { </div>
<div class="line">    <span class="keywordtype">float</span> re, im; </div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">double</span> RandBetween(<span class="keywordtype">double</span> f1, <span class="keywordtype">double</span> f2)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">double</span> r = (double)rand() / (double)RAND_MAX;</div>
<div class="line">    <span class="keywordflow">return</span> f1 + r * (f2 - f1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> vsg_example_complex_freq_hopping()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Open device, get handle, check open result</span></div>
<div class="line">    <span class="keywordtype">int</span> handle;</div>
<div class="line">    <a class="code hl_enumeration" href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276">VsgStatus</a> status = <a class="code hl_function" href="vsg__api_8h.html#a79c09f779d9844ea2dc28991e7bf9cdd">vsgOpenDevice</a>(&amp;handle);</div>
<div class="line">    <span class="keywordflow">if</span>(status &lt; <a class="code hl_enumvalue" href="vsg__api_8h.html#a36ee7f829a2d1178df0d58ba9b23f276ac3a1368c2522967c3b379f6609a8170c">vsgNoError</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error: %s\n&quot;</span>, <a class="code hl_function" href="vsg__api_8h.html#a1136a2ae452fe9a4bff95e66aa443f46">vsgGetErrorString</a>(status));</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Configure generator</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> sampleRate = 50.0e6; <span class="comment">// samples per second</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> level = -10.0; <span class="comment">// dBm</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a4f3b9a68cbfabfdd95440d39d0c2158e">vsgSetLevel</a>(handle, level);</div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a227c10c3d51527900d6d2dc1c1c6253b">vsgSetSampleRate</a>(handle, sampleRate);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Each frequency switch takes 200us</span></div>
<div class="line">    <span class="comment">// We will output an 800us CW at each frequency for a hop period of 1ms</span></div>
<div class="line">    std::vector&lt;Cplx32f&gt; iq(800.0e-6 * sampleRate);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; iq.size(); i++) {</div>
<div class="line">        iq[i].re = 1.0;</div>
<div class="line">        iq[i].im = 0.0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Number of 1ms hops to perform</span></div>
<div class="line">    <span class="keywordtype">int</span> hops = 1000;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(hops-- &gt; 0) {</div>
<div class="line">        <a class="code hl_function" href="vsg__api_8h.html#aefed623968894e79bea155af4a2dbfdc">vsgSetFrequency</a>(handle, RandBetween(990.0e6, 1010.0e6));</div>
<div class="line">        <a class="code hl_function" href="vsg__api_8h.html#ad5c2bfc92e6ee6cf906fe7afcf706647">vsgSubmitIQ</a>(handle, (<span class="keywordtype">float</span>*)&amp;iq[0], iq.size());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a3ab474bcc8da7f348ebd5c88ae895821">vsgFlushAndWait</a>(handle);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Done with device</span></div>
<div class="line">    <a class="code hl_function" href="vsg__api_8h.html#a14cc8a9ab150038b15af0c47e8f877bb">vsgCloseDevice</a>(handle);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="avsg__api_8h_html_a3ab474bcc8da7f348ebd5c88ae895821"><div class="ttname"><a href="vsg__api_8h.html#a3ab474bcc8da7f348ebd5c88ae895821">vsgFlushAndWait</a></div><div class="ttdeci">VSG_API VsgStatus vsgFlushAndWait(int handle)</div></div>
<div class="ttc" id="avsg__api_8h_html_ad5c2bfc92e6ee6cf906fe7afcf706647"><div class="ttname"><a href="vsg__api_8h.html#ad5c2bfc92e6ee6cf906fe7afcf706647">vsgSubmitIQ</a></div><div class="ttdeci">VSG_API VsgStatus vsgSubmitIQ(int handle, float *iq, int len)</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md17"></a>
Usage</h2>
<p >The following functions can be buffered/queued:</p>
<ul>
<li><a class="el" href="vsg__api_8h.html#aefed623968894e79bea155af4a2dbfdc">vsgSetFrequency</a></li>
<li><a class="el" href="vsg__api_8h.html#a4f3b9a68cbfabfdd95440d39d0c2158e">vsgSetLevel</a></li>
<li><a class="el" href="vsg__api_8h.html#ad5c2bfc92e6ee6cf906fe7afcf706647">vsgSubmitIQ</a></li>
<li><a class="el" href="vsg__api_8h.html#ae0d424927431f4369c8b77be28a8ce2a">vsgSubmitTrigger</a></li>
<li><a class="el" href="vsg__api_8h.html#a3ab474bcc8da7f348ebd5c88ae895821">vsgFlushAndWait</a></li>
</ul>
<p >Roughly 1/5th of a second of I/Q data can be buffered. If the buffer is full and <a class="el" href="vsg__api_8h.html#ad5c2bfc92e6ee6cf906fe7afcf706647">vsgSubmitIQ</a> data is called, the function blocks until space is available in the buffer.</p>
<p >Calling <a class="el" href="vsg__api_8h.html#af17b7a9283db63e953a0cae5958b2f4b">vsgAbort</a> will cause all I/Q data in the buffer to be dumped and any pending frequency/level changes to be completed in the order received.</p>
<div class="image">
<img src="complex_gen.png" alt=""/>
</div>
    <h1><a class="anchor" id="autotoc_md18"></a>
Closing the Device</h1>
<p >When finished, you can close the device and free all resources related to the device with the <a class="el" href="vsg__api_8h.html#a14cc8a9ab150038b15af0c47e8f877bb">vsgCloseDevice</a> function. Once closed, the device will appear in the open device list again. It is possible to open and close a device multiple times during the execution of a program.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Recalibration</h1>
<p >Recalibration is performed by calling the <a class="el" href="vsg__api_8h.html#a9c3d296ff8130c7d9c9266fb856311cb">vsgRecal</a> function which retrieves the current device temperature and recalibrates the device for the current device settings. This will interrupt any signal generation currently in progress.</p>
<p >Large temperature changes affect signal generation in the form of reduce amplitude accuracy and reduced spurious performance, and it is recommended to reconfigure the device after large environmental changes and during device warmup.</p>
<p >Recalibration can occur automatically during periods of activity that include frequency changes, but when generating the same signal for long periods of time, or after a long period of inactivity, a recalibration is recommended. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
