<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Signal Hound SM API: Theory of Operation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Signal Hound SM API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Theory of Operation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md22">Opening a Device</a></li>
<li class="level1"><a href="#autotoc_md23">Configuring a Networked Device</a></li>
<li class="level1"><a href="#autotoc_md24">Configuring the Device</a></li>
<li class="level1"><a href="#autotoc_md25">Acquiring Measurements</a></li>
<li class="level1"><a href="#autotoc_md26">Closing the Device</a></li>
<li class="level1"><a href="#autotoc_md27">Recalibration</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_C__Users_Roger_Documents_Dev_Checkout_SM_API_docs_page_theory_of_operation"></a></p>
<p >Any application using the SM API will follow these steps to interact and perform measurements on the device.</p>
<ol type="1">
<li>Open the device and receive a handle to the device resources.</li>
<li>Configure the device.</li>
<li>Acquire measurements.</li>
<li>Stop acquisitions, abort the current operation.</li>
<li>Close the device.</li>
<li>(Recalibration)</li>
</ol>
<h1><a class="anchor" id="autotoc_md22"></a>
Opening a Device</h1>
<p >How a device is opened depends on whether the device operates over USB 3.0 or 10GbE.</p>
<p >Opening a USB 3.0 device is done through the smOpenDevice or <a class="el" href="sm__api_8h.html#a86c5db12f9f6404780acf2d89a8925ce">smOpenDeviceBySerial</a> functions. These functions will perform the full initialization of the device and if successful, will return an integer handle which can be used to reference the device for the remainder of your program. See the list of all USB SM devices connected to the PC via the <a class="el" href="sm__api_8h.html#a94af6229c77803e79f2f0023662f8a92">smGetDeviceList</a> function.</p>
<p >Opening a networked device is done through the <a class="el" href="sm__api_8h.html#a5ba7f9d9e9f280f1e8bd66ab59f35383">smOpenNetworkedDevice</a> function. All networked devices have a default network configuration that can be modified using the methods described below.</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Configuring a Networked Device</h1>
<p >There are two ways to change the network settings of a 10GbE based SM spectrum analyzer.</p>
<ol type="1">
<li>Through the smBroadcastNetworkConfig function. The device must have a valid 10GbE connection. A broadcast UDP message is sent to the receiver to reconfigure its network settings. This method is ideal for single device and single use applications to quickly modify the network settings.</li>
<li>Through the smNetworkConfig*** functions. This method allows you to set the network settings over USB. This method does not require the unit to have a 10GbE connection at the time of configuration. This method is ideal when the device may or may not be on a different subnet and cannot be addressed via the broadcast method. This method is also helpful when needing to interface several networked devices that might share a network and thus arenâ€™t individually addressable via the broadcast method.</li>
</ol>
<h1><a class="anchor" id="autotoc_md24"></a>
Configuring the Device</h1>
<p >Once the device is open, the next step is to configure the device for a measurement. The available measurement modes are swept analysis, real-time analysis, and I/Q streaming. Each mode has specific configurations routines, which set a temporary configuration state. Once all configuration routines have been called, calling the smConfigure function copies the temporary configuration state into the active measurement state and the device is ready for measurements. The provided code examples showcase how to configure the device for each measurement mode.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Acquiring Measurements</h1>
<p >After the device has been successfully configured, the API provides several functions for acquiring measurements. Only certain measurements are available depending on the active measurement mode. For example, I/Q data acquisition is not available when the device is in a sweep measurement mode.</p>
<p >Stopping the Measurements</p>
<p >Stopping all measurements is achieved through the smAbort function. This causes the device to cancel or finish any pending operations and return to an idle state. Calling smAbort is never required, as it is called by default if you attempt to change the measurement mode or close the device, but it can be useful to do this.</p>
<ul>
<li>Certain measurement modes can consume large amounts of resources such as memory and CPU usage. Returning to an idle state will free those resources.</li>
<li>Returning to an idle state will help reduce power consumption.</li>
</ul>
<h1><a class="anchor" id="autotoc_md26"></a>
Closing the Device</h1>
<p >When finished making measurements, you can close the device and free all resources related to the device with the smCloseDevice function. Once closed, the device will appear in the open device list again. It is possible to open and close a device multiple times during the execution of a program.</p>
<h1><a class="anchor" id="autotoc_md27"></a>
Recalibration</h1>
<p >Recalibration is performed each time the device is reconfigured (smConfigure). For instance, when the device is configured for I/Q streaming, the instrument and measurement is calibrated for the current environment and will not be calibrated again until the device measurement is aborted and started again (read: the device will not recalibrate in the middle of measurements, as this would interrupt measurements such as I/Q streaming or real-time analysis).</p>
<p >Large temperature changes affect measurements the most, and it is recommended to reconfigure the device once a large temperature delta has been recorded.</p>
<p >It is recommended to use the RFBoard temperature from the <a class="el" href="sm__api_8h.html#a09bb553dee2ebcdab2012268cb9e433f">smGetFullDeviceDiagnostics</a> function to detect a temperature drift and recalibrate again when you see a drift of 2-4 degrees Celsius. Using the temperature returned from <a class="el" href="sm__api_8h.html#a7c2002f8771662b05ce789872db81e0b">smGetDeviceDiagnostics</a> is also a valid approach but this function returns the FPGA temperature which has less correlation with the temperature corrections and tends to be more volatile. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
